<div class="alert alert-info" ng-if="gDetailController.succesMessage != ''">
  {{ gDetailController.succesMessage }}
</div>
<div class="alert alert-danger" ng-if="gDetailController.errorMessage != ''">
  {{ gDetailController.errorMessage }}
</div>
<div class="row">
	<div class="col-md-5">
		<span class="label label-default">{{ gDetailController.game._id }}</span>
		<span class="label label-default floatRight {{ gDetailController.game.state }}">{{ gDetailController.game.state }}</span>
		<input type="button" value="Start Race" ng-click="gDetailController.startGame(gDetailController.game._id)" ng-show="gDetailController.game.state == 'open' && gDetailController.game.createdBy._id == gDetailController.username">
		<table class="table table-striped">
		    <thead>
		      <tr>
		        <th>Player id:</th>
		        <th>Name:</th>
		      </tr>
		    </thead>
		    <tbody>
		    	<tr  ng-repeat='player in gDetailController.game.players'>
		    		<td>{{ player._id }}</td>
		    		<td>{{ player.name }}</td>
		    	</tr>
		    </tbody>
		</table>
		<p class="floatLeft fontSize13"><span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> - {{ gDetailController.game.createdOn }}</p>
		<p class="floatRight fontSize13"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> - {{ gDetailController.game.createdBy.name }}</p>
		<span class="label label-default">#{{ gDetailController.possibleMatches }} matches</span>
		<p class="floatLeft fontSize13"><span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> - {{ gDetailController.game.gameTemplate._id }}</p>
	</div>
	<div class="col-md-6 absolute top250" >
		<div class="absolute" ng-repeat='tile in gDetailController.game.tiles.data' ng-click="gDetailController.matchTiles(gDetailController.game._id, tile._id)" style="left:{{tile.xPos * 36}}px; top:{{tile.yPos * 45}}px; z-index:{{tile.zPos}}">
			<div class="tile {{tile.tile.suit}}{{tile.tile.name}}"></div>
		</div>
	</div>

	<div class="floatRight">
		<table style="width:100%" class="table table-striped">
			<thead>
		      <tr>
		        <th>Match #1</th>
		        <th>Match #2</th>
		        <th>Matched by</th>
		      </tr>
		    </thead>
		    <tbody>
				<tr ng-repeat="match in gDetailController.game.matched">
					<td><div class="tile tiny {{match.tile1.suit}}{{match.tile1.name}}"></div></td>
					<td><div class="tile tiny {{match.tile2.suit}}{{match.tile2.name}}"></div></td> 
					<td>{{match.player.foundBy}}</br>{{match.player.foundOn}}</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>